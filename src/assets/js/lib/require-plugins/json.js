define(["text"],function(text){var jsonParse="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(e,n,t,i){text.get(n.toUrl(e),function(n){i.isBuild?(buildMap[e]=n,t(n)):t(jsonParse(n))})},write:function(n,e,t){e in buildMap&&t('define("'+n+"!"+e+'", function(){ return '+buildMap[e]+";});\n")}}});